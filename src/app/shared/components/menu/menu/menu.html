<section class="menu-page">
  <h1 class="page-title">MENÚ</h1>

  <!-- ===================== -->
  <!-- PIZZAS SENCILLAS       -->
  <!-- ===================== -->
  <h2 class="section-title">PIZZAS SENCILLAS</h2>

  @if (loadingSencillas()) {
    <!-- ✅ Skeleton grid 3 columnas -->
    <div class="grid">
      @for (i of skeletonItems; track i) {
        <div class="col-12 sm:col-6 lg:col-4">
          <article class="pizza-card pizza-card--skeleton">
            <p-skeleton width="65%" height="28px" styleClass="sk-title"></p-skeleton>

            <div class="image-wrap">
              <p-skeleton width="100%" height="190px" borderRadius="10px"></p-skeleton>
            </div>

            <p-skeleton width="80%" height="42px" borderRadius="12px"></p-skeleton>
          </article>
        </div>
      }
    </div>
  } @else if (errorSencillas()) {
    <div class="error">
      {{ errorSencillas() }}
    </div>
  } @else {
    <p-dataview [value]="sencillas()" layout="grid">
      <ng-template #grid let-items>
        <div class="grid">
          @for (pizza of items; track pizza.id) {
            <div class="col-12 sm:col-6 lg:col-4">
              <article class="pizza-card">
                <h3 class="pizza-name">{{ pizza.name }}</h3>

                <div class="image-wrap">
                  <img
                    class="pizza-image"
                    [src]="pizza.image_url || fallbackImage"
                    [alt]="pizza.name"
                    loading="lazy"
                    referrerpolicy="no-referrer"
                  />
                </div>

                <button
                  pButton
                  type="button"
                  label="ORDENAR"
                  icon="pi pi-shopping-cart"
                  class="order-btn"
                  (click)="onOrder(pizza)"
                ></button>
              </article>
            </div>
          }
        </div>
      </ng-template>
    </p-dataview>
  }

  <!-- ===================== -->
  <!-- PIZZAS ESPECIALES      -->
  <!-- ===================== -->
  <h2 class="section-title section-title--spaced">PIZZAS ESPECIALES</h2>

  @if (loadingEspeciales()) {
    <!-- ✅ Skeleton grid 3 columnas -->
    <div class="grid">
      @for (i of skeletonItems; track i) {
        <div class="col-12 sm:col-6 lg:col-4">
          <article class="pizza-card pizza-card--skeleton">
            <p-skeleton width="65%" height="28px"></p-skeleton>

            <div class="image-wrap">
              <p-skeleton width="100%" height="190px" borderRadius="10px"></p-skeleton>
            </div>

            <p-skeleton width="80%" height="42px" borderRadius="12px"></p-skeleton>
          </article>
        </div>
      }
    </div>
  } @else if (errorEspeciales()) {
    <div class="error">
      {{ errorEspeciales() }}
    </div>
  } @else {
    <p-dataview [value]="especiales()" layout="grid">
      <ng-template #grid let-items>
        <div class="grid">
          @for (pizza of items; track pizza.id) {
            <div class="col-12 sm:col-6 lg:col-4">
              <article class="pizza-card">
                <h3 class="pizza-name">{{ pizza.name }}</h3>

                <div class="image-wrap">
                  <img
                    class="pizza-image"
                    [src]="pizza.image_url || fallbackImage"
                    [alt]="pizza.name"
                    loading="lazy"
                    referrerpolicy="no-referrer"
                  />
                </div>

                <button
                  pButton
                  type="button"
                  label="ORDENAR"
                  icon="pi pi-shopping-cart"
                  class="order-btn"
                  (click)="onOrder(pizza)"
                ></button>
              </article>
            </div>
          }
        </div>
      </ng-template>
    </p-dataview>
  }
</section>
