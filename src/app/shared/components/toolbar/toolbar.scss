:host {
  display: block;
}

/* =========================
   Toolbar base
   ========================= */
.cheof-toolbar {
  border: 0;
  border-radius: 0;
  padding: 12px 16px;

  background: var(--p-surface-0);
  color: var(--p-text-color);
  border-bottom: 1px solid var(--p-surface-200);

  min-height: 64px;
  display: flex;
  align-items: center;
}

/* =========================
   Acciones a la derecha
   ========================= */
.toolbar-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

/* WEB: categorías en botones */
.cats-desktop {
  display: flex;
  align-items: center;
  gap: 10px;
}

/* MOBILE: categorías como select */
.cats-mobile {
  display: none;
}

/* Botones ícono (carrito/tema/login móvil) */
.cheof-icon-btn {
  width: 42px;
  height: 42px;
  padding: 0;
  justify-content: center;
  border-radius: 12px;
}

/* Login web/móvil */
.login-mobile {
  display: none;
}
.login-desktop {
  display: inline-flex;
}

/* =========================================================
   ✅ Usuario autenticado (p-button outlined)
   -> se ve igual que tus otros botones en dark/outlined
   ========================================================= */
:host ::ng-deep .user-chip-btn.p-button {
  height: 42px;
  border-radius: 999px;
  padding: 0 12px;

  display: inline-flex;
  align-items: center;
  gap: 10px;
}

/* Asegura que el contenido no tenga padding raro */
:host ::ng-deep .user-chip-btn.p-button .p-button-label {
  padding: 0;
}

/* Avatar */
:host ::ng-deep .user-chip-btn .avatar {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  object-fit: cover;
  display: block;
}

/* Fallback icon */
:host ::ng-deep .user-chip-btn .avatar-fallback {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Nombre: visible y con ellipsis si es largo */
:host ::ng-deep .user-chip-btn .name {
  font-weight: 700;
  font-size: 0.92rem;
  white-space: nowrap;

  max-width: 280px;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* =========================
   Responsive
   ========================= */
@media (max-width: 640px) {
  .toolbar-actions {
    gap: 8px;
  }

  .cats-desktop {
    display: none;
  }
  .cats-mobile {
    display: block;
  }

  .login-desktop {
    display: none;
  }
  .login-mobile {
    display: inline-flex;
  }

  /* en móvil: ocultar nombre, queda avatar */
  :host ::ng-deep .user-chip-btn .name {
    display: none;
  }
  :host ::ng-deep .user-chip-btn.p-button {
    padding: 0 10px;
  }
}

/* =========================
   Opcional: diferenciar botones web
   ========================= */
:host ::ng-deep .cheof-btn-simple.p-button {
  border-color: color-mix(in srgb, var(--p-danger-500) 55%, var(--p-surface-200));
}
:host ::ng-deep .cheof-btn-special.p-button {
  border-color: color-mix(in srgb, var(--p-primary-500) 55%, var(--p-surface-200));
}

/* =========================================================
   MÓVIL: SelectButton
   ========================================================= */

/* contenedor del select */
:host ::ng-deep .cheof-cat-select {
  display: inline-flex;
}

/* estilo base de cada segmento */
:host ::ng-deep .cheof-cat-select .p-togglebutton {
  border-radius: 0 !important;
  border: 0 !important;

  background: var(--p-surface-0) !important;
  color: var(--p-text-color) !important;

  padding: 10px 12px !important;
}

/* pill unido */
:host ::ng-deep .cheof-cat-select .p-togglebutton:first-child {
  border-top-left-radius: 999px !important;
  border-bottom-left-radius: 999px !important;
}
:host ::ng-deep .cheof-cat-select .p-togglebutton:last-child {
  border-top-right-radius: 999px !important;
  border-bottom-right-radius: 999px !important;
}

/* borde sutil cuando NO está seleccionado */
:host ::ng-deep .cheof-cat-select .p-togglebutton:not(.p-highlight) {
  box-shadow: inset 0 0 0 1px var(--p-surface-200);
}

/* hover: no aclarar fondo */
:host ::ng-deep .cheof-cat-select .p-togglebutton:hover {
  background: var(--p-surface-0) !important;
}

/* estado seleccionado (base) */
:host ::ng-deep .cheof-cat-select .p-togglebutton.p-highlight {
  background: var(--p-surface-0) !important;
  color: var(--p-text-color) !important;
}

/* Sencillas activo -> rojo */
:host ::ng-deep .cheof-cat-select .p-togglebutton.p-highlight:first-child {
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb, var(--p-danger-500) 75%, transparent),
    0 0 0 1px color-mix(in srgb, var(--p-danger-500) 20%, transparent);
}

/* Especiales activo -> verde */
:host ::ng-deep .cheof-cat-select .p-togglebutton.p-highlight:last-child {
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb, var(--p-primary-500) 75%, transparent),
    0 0 0 1px color-mix(in srgb, var(--p-primary-500) 20%, transparent);
}

/* tipografía del label dentro del toggle */
:host ::ng-deep .cheof-cat-select .p-togglebutton .p-button-label {
  font-weight: 800;
  letter-spacing: 0.2px;
  white-space: nowrap;
}

:host ::ng-deep .cheof-cat-select i {
  margin-right: 8px;
}

@media (max-width: 380px) {
  :host ::ng-deep .cheof-cat-select .opt-label {
    display: none;
  }
  :host ::ng-deep .cheof-cat-select .p-togglebutton {
    padding: 10px 14px !important;
  }
}
